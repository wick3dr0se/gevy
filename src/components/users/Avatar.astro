---
import { Image } from "astro:assets";
import { getAvatarUrl, getDisplayName } from "../../lib/queries/user";

interface Props {
  user: {
    display_name?: string | null;
    avatar_url?: string | null;
    github_avatar_url?: string | null;
    username?: string | null;
    github_username?: string | null;
  };
  size?: number;
  class?: string;
  loading?: "lazy" | "eager";
}

const {
  user,
  size = 40,
  class: className = "",
  loading = "lazy",
} = Astro.props;

const alt = getDisplayName(user);
---

<Image
  src={getAvatarUrl(user)}
  alt={alt}
  width={size}
  height={size}
  class={`rounded-full ${className}`}
  loading={loading}
/>
