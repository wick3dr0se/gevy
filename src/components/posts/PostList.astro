---
import PostCard from "./PostCard.astro";

interface Props {
  posts: any[];
  currentUserId: string;
  emptyMessage?: string;
  emptyAction?: {
    text: string;
    href: string;
  };
}

const { posts, currentUserId, emptyMessage, emptyAction } = Astro.props;
---

<div class="space-y-6">
  {
    posts.length === 0 ? (
      <div class="rounded-lg shadow-sm border p-12 text-center">
        <p class="text-[var(--subtext)] mb-4">
          {emptyMessage || "No posts yet."}
        </p>
        {emptyAction && (
          <a
            href={emptyAction.href}
            class="inline-block px-6 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors"
          >
            {emptyAction.text}
          </a>
        )}
      </div>
    ) : (
      posts.map((post) => (
        <PostCard post={post} currentUserId={currentUserId} />
      ))
    )
  }
</div>
